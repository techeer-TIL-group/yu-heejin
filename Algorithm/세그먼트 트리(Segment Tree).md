**특정 구간 내 데이터**에 대한 연산(쿼리)을 빠르게 구할 수 있는 트리이다.

여러 개의 데이터가 연속적으로 존재할 때, **특정한 범위의 데이터의 합을 가장 빠르고 간단하게 구할 수 있는 자료구조**이다.

선형 반복문으로 구할 때보다 시간 복잡도가 훨씬 빠르다. `O(log N)`

# 세그먼트 트리 구조
![image](https://github.com/user-attachments/assets/f052e02b-682c-487a-a411-d2c5a00662e5)

https://m.blog.naver.com/ndb796/221282210534

- 일반적으로 세그먼트 트리는 이진 트리 구조를 가진다.
- 최상단 노드에는 전체 원소를 더한 값이 들어간다.
- 두번째 노드는 인덱스 인덱스 0부터 인덱스 5까지 더한 값을 가지고, 세번째 노드는 인덱스 6부터 인덱스 11까지의 원소를 더한 값을 가진다.
- 즉, 원래 데이터의 범위를 반으로 나누어 그 구간의 합들을 저장하도록 초기 설정한다.
- 구간 합 트리에 한해서는 **인덱스 번호가 1부터 시작한다.**
    - 1부터 시작하면 2를 곱했을 때 왼쪽 자식 노드를 가리키기 때문이다.
- 또한, 매 노드가 이미 구간의 합을 가지는 형태이다.
    
    ![image](https://github.com/user-attachments/assets/c03515d4-ea64-4853-ac9b-abd32396508a)

    
- 구간 합 트리의 원소 개수는 **데이터의 개수가 N개일 때 N보다 큰 가장 가까운 N의 제곱수를 구한 뒤에 그것의 2배까지 배열의 크기를 미리 만들어놓아야 한다.**

## 이진 트리의 특징

- 부모 노드의 인덱스가 `i`인 경우, 왼쪽 자식 노드의 인덱스는 `2i`, 오른쪽 자식 노드의 인덱스는 `2i + 1` 이다.
- 트리의 높이는 Root Node에서 가장 긴 경로이다.

# 참고 자료

- https://m.blog.naver.com/ndb796/221282210534
