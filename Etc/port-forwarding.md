## 포트 포워딩

- 간단히 말해 ‘포트(Port)를 전달(Forwarding)해주는 것’
- **특정한 포트로 들어오는 데이터 패킷을 다른 포트로 바꿔서 다시 전송해주는 작업**이다.
- 이러한 방식으로 포트 포워딩은 수신 데이터가 NAT 방화벽을 우회하도록 하여 인터넷 연결 속도를 개선한다.
- 특정한 방식으로 라우터를 설정하여 데이터를 이동시키는 방식이다.
    - 서버 포트 포워딩을 설정하면, 기본적으로 라우터에 일부 데이터를 네트워크 내의 특정 기기로 전송하라고 명령하게 된다.
- 공유기의 포트를 통해 이 공유기와 연결된 기기들의 특정 포트에 진입할 수 있게 하는 기능이다.
    - 만약 공유기에 컴퓨터와 핸드폰이 연결되어 있는데, 그냥 공유기 주소 + 포트 번호로 입력한다면 공유기의 어느 기기의 포트로 들어가야 하는지 알 수 없다.
    - 따라서 포트 포워딩은 공유기에 연결된 기기의 포트를 특정 번호를 통해 전달해주는 것이라고 이해할 수 있다.
    - 혹은 공유기에 기기 + 해당 기기의 포트에 해당하는 포트 번호를 할당해주는 것이라 이해할 수 있다.
- 예를 들어 공유기의 180 포트로 접속하면 핸드폰의 5000포트로 접속하고, 280 포트로 접속하면 컴퓨터의 5000포트에 접속하게 하는 것이다.
    - **여기서 180, 280 등을 지정하는 작업이 포트 포워딩이다.**

## 원리

- 라우터는 라우터에 연결된 모든 기기에 사설 네트워크를 구축해주는 역할을 한다.
- 라우터는 사설 네트워크를 구축할 뿐만 아니라 공용 IP를 할당받는데, 이 때 라우터에 연결된 기기는 인터넷에 접속하기 위해 무조건 라우터를 거쳐야한다.
- 그러나 가정용 기기를 원격 기기에 직접 연결하고 싶다면 서버 포트포워딩을 설정해야 한다.
- 라우터에는 6만개 이상의 포트가 있으며, 1000개의 포트를 표준 특정 기능에 이용할 수 있고, 나머지 포트는 우리가 원하는 기기나 프로그램에 할당할 수 있다.
    - 이러한 방식으로 라우터에 있는 포트를 열어 특정 기기에 할당할 수 있다.
    - 이렇게 설정하면 기기가 라우터로 연결 요청을 보낼 때, 자동으로 기기가 직접적인 인터넷 연결을 형성한다.

## 목적

포트 포워딩은 가정용 네트워크와 원격 기기 사이를 직접적으로 연결하는 경우에 유용하다.

- 원격으로 가정용 서버에 연결하는 경우
- 스마트홈 기기를 가정용 네트워크에 연결하는 경우
- 게임 서버에 직접적으로 연결하는 경우
- 원격 데스크톱 소프트웨어를 이용하여 가정용 컴퓨터에 접속하는 경우
- 외출 시 가정용 CCTV를 모니터링 하는 경우

## 참고 자료

- https://nordvpn.com/ko/blog/port-forwarding-vpn/
- https://hyunie-y.tistory.com/23