## 원시 타입(Primitive)과 참조 타입(Reference)

- 원시 타입은 정수, 실수, 문자, 논리 리터럴 등의 **실제 데이터를 저장하는 타입**이다.
- 참조 타입은 **객체의 주소를 저장하는 타입**으로 **메모리 주소 값을 통해 객체를 참조**하는 타입이다.
    - 원시 타입을 제외한 문자열, 배열, 열거, 클래스, 인터페이스 등의 타입
    - **자바에서 실 객체는 힙 영역에 저장**되며, **참조 타입 변수는 스택 영역에 실제 객체들의 주소를 저장**하여 객체를 사용할 때마다 참조 변수에 저장된 객체의 주소를 불러와
- `Boxing`은 **원시 타입을 참조 타입으로 변환**시키는 것이며, `Unboxing`은 **참조 타입을 원시 타입으로 변환**시키는 것을 말한다.
    - 자바 1.5부터 `Auto Boxing/Unboxing` 기능으로 명시적으로 원시 타입을 참조 타입으로 감싸주지 않아도 **자동으로 형변환이 가능**하다.
    - 하지만 **자동 형변환은 메모리 누수의 원인**이 될 수 있다.

## 원시 타입과 참조 타입의 차이

- 원시 타입은 null을 담을 수 없지만 참조 타입은 가능하다.
- 원시 타입은 제네릭에서 사용할 수 없지만 참조 타입은 가능하다.
- 원시 타입이 참조 타입보다 메모리양을 덜 사용하므로 메모리를 효율적으로 사용할 수 있다.
- 참조 타입은 하나의 인스턴스이기 때문에 스택 메모리에는 참조 값만 존재하고 실제 값은 힙 메모리에 존재한다.
- 원시 타입은 스택 메모리에 값이 존재한다.
- 참조 타입은 값을 필요로 할 때마다 언박싱 과정을 거쳐야하므로 원시 타입과 비교해서 접근 속도가 느려진다.

## DTO, Entity에는 어떤 타입을 사용해야 할까?

> DTO, Entity 에는 Long과 같은 참조 타입을 사용해야 한다.
> 
- Spring Boot는 Entity와 DTO의 필드 타입을 `long`과 같은 `primitive` 타입이 아닌 `**Long`과 같은 `wrapper class(Reference Type)`을 사용하는 것을 권장한다.**
- **Long을 사용하면 `null`을 사용할 수 있기 때문이다!**
    - `long`을 사용하면 `primitive` 타입은 기본값이 0이기 때문에 실제로 `id`값이 0인지, 값이 없는 것인지 구분하기 어렵다.
    - 반면에 `wrapper class`을 사용하면, `id`가 없는 경우엔 확실하게 `null`이며, 그 자체로 id가 없다는 것을 보장한다!
- 참조 타입은 `null`을 받을 수 있기 때문에, `missing values`를 다룰 때 참조 타입에서 `null`을 이용할 수 있다.
- Hibernate JPA에서도 `wrapper class`를 권장한다.

## 참고 자료

- [https://akdl911215.tistory.com/299](https://akdl911215.tistory.com/299)
- [https://joanne.tistory.com/166](https://joanne.tistory.com/166)