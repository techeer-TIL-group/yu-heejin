# HTTP(Hyper Text Transfer Protocol)

- μ‚¬μ©μμ™€ μ„λ²„ κ°„μ— μ΄μ©λλ” μ”μ²­(request)κ³Ό μ‘λ‹µ(response)μ— λ€ν• κ·μ•½
- μ‚¬μ©μμ μ›Ή λΈλΌμ°μ €κ°€ μ›Ή μ‚¬μ΄νΈ μ„λ²„μ— μ ‘μ†ν•κ³ , μ΄λ―Έμ§€λ‚ νμ΄μ§€ λ‚΄μ©μ— λ€ν• μ •λ³΄λ¥Ό μ”μ²­ν•κ³ , μ›Ή μ‚¬μ΄νΈ μ„λ²„λ” μ”μ²­λ°›μ€ λ‚΄μ©μ„ μ‚¬μ©μμ—κ² μ£Όλ” μΌλ ¨μ κ³Όμ •λ“¤μ΄ ν•΄λ‹Ή κ·μ•½ λ‚΄μ—μ„ μ΄λ£¨μ–΄μ§„λ‹¤.
- Application Layer (7κ³„μΈµ)μ—μ„ μ‘λ™ν•λ” ν”„λ΅ν† μ½λ΅, TCP/IPλ¥Ό κΈ°λ°μΌλ΅ ν•λ‹¤.
- μ•”νΈν™”λμ§€ μ•μ€ ν‰λ¬Έμ„ μ „μ†΅ν•λ” ν”„λ΅ν† μ½μ΄λ―€λ΅, ν¨ν‚· κ°μ²­μ„ ν†µν•΄ μ  3μκ°€ μ •λ³΄λ¥Ό λ“¤μ—¬λ‹¤λ³Ό μ μλ‹¤.
    - μ΄λ¬ν• μ„ν—μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ λ“±μ¥ν• κ²ƒμ΄ HTTPSμ΄λ‹¤.

# HTTPS (HTTP Secure)

- HTTPμ— Secureμ Sκ°€ λ¶™μ€ ν”„λ΅ν† μ½λ΅, HTTPμ— λ°μ΄ν„° μ•”νΈν™”κ°€ μ¶”κ°€λ ν”„λ΅ν† μ½μ΄λ‹¤.
    - SSL, TLSμ™€ κ°™μ€ λ³΄μ• ν”„λ΅ν† μ½μ„ κΈ°λ°μΌλ΅ HTTPλ΅μ„ ν†µμ‹ ν•λ” ν”„λ΅ν† μ½
- λ¨λ“  λ°μ΄ν„° ν†µμ‹  λ‚΄μ©μ΄ μ•”νΈν™”λκΈ° λ•λ¬Έμ— μ  3μκ°€ ν¨ν‚·μ„ κ°μ²­ν•΄λ„ μ–΄λ–¤ μ •λ³΄μΈμ§€ μ• μ μ—†λ‹¤.
- μ •λ³΄λ¥Ό μ£Όκ³ λ°›λ” μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€ νλ³„ν•  μ μλ„λ΅ λ„μ™€μ¤€λ‹¤.

## SSL(Secure Socket Layer)/TLS(Transport Layer Security)

![image](https://github.com/user-attachments/assets/8b590b9b-2a50-4a4e-b7b8-411cfb61df75)


> 7κ³„μΈµμ HTTPμ™€ 4κ³„μΈµμ TCP μ‚¬μ΄μ— μ„μΉν•λ‹¤.
> 

### SSL

- λ³΄μ• μ†μΌ“ κ³„μΈµ
- μ‚¬μ©μμ™€ μ„λ²„ κ°„μ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” ν‘μ¤€ κΈ°μ 
- λ€μΉ­ν‚¤ λ°©μ‹μ΄λ‚ κ³µκ°ν‚¤ λ°©μ‹κ°™μ€ λ°μ΄ν„° μ•”νΈν™” κΈ°λ²•λ“¤μ„ ν†µν•΄ λ™μ‘ν•λ‹¤.
    - μ΄ λ• SSL μΈμ¦μ„κ°€ λ“±μ¥ν•λ”λ°, μ΄λ” κ³µμΈλ μ—…μ²΄(CA, Certificate Authority)κ°€ λ³΄μ¥ν•λ‹¤.
    - λ”°λΌμ„ SSL μΈμ¦μ„λ” κ³µμΈλ μ—…μ²΄λ¥Ό ν†µν•΄ κµ¬μ… κ°€λ¥ν•λ‹¤.

### TLS

- μ „μ†΅ κ³„μΈµ λ³΄μ•
- SSLλ³΄λ‹¤ λ” κ°μ„ λ λ²„μ „

# SSL μΈμ¦μ„

- SSL μΈμ¦μ„λ” SSL ν”„λ΅ν† μ½μ—μ„ μ‚¬μ©λλ” μΈμ¦μ„λ΅, κ³µμΈλ CA κΈ°κ΄€μ—μ„ λ°κΈ‰ν•λ‹¤.

## μΈμ¦μ„μ μ—­ν• 

- Clientκ°€ μ ‘μ†ν• μ‚¬μ΄νΈκ°€ μ‹ λΆ°ν•  μ μλ” μ‚¬μ΄νΈμ„μ„ λ³΄μ¦ν•λ‹¤.
- ν†µμ‹  κ³Όμ •μ—μ„ μ‚¬μ©ν•  Serverμ κ³µκ° ν‚¤λ¥Ό Clientμ— μ „λ‹¬ν•λ‹¤.

## μΈμ¦μ„μ— λ‹΄κ²¨μλ” μ •λ³΄

- CA μ •λ³΄μ™€ μ‚¬μ΄νΈ λ„λ©”μΈ λ“±
- μ„λ²„μ κ³µκ° ν‚¤

# SSL/TLSμ—μ„μ μ•”νΈν™” λ°©μ‹

> λ‘ λ°©μ‹μ μ¥λ‹¨μ μ„ κ³ λ ¤ν•΄ **SSL/TLSμ—μ„λ” μ‹¤μ  λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄ λ€μΉ­ν‚¤**λ¥Ό μ‚¬μ©ν•κ³ , **ν•΄λ‹Ή λ€μΉ­ν‚¤λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄ κ³µκ°ν‚¤ λ°©μ‹**μ„ μ‚¬μ©ν•λ‹¤.
> 

## λ€μΉ­ ν‚¤ λ°©μ‹

- λ™μΌν• ν•λ‚μ ν‚¤λ΅ μ•”νΈν™” λ° λ³µνΈν™”ν•λ” λ°©μ‹
- κ³µκ°ν‚¤ λ°©μ‹μ— λΉ„ν•΄ μ†λ„κ°€ λΉ λ¥΄μ§€λ§, μ•”νΈ ν†µμ‹ μ„ μ„ν•΄ λ€μΉ­ν‚¤λ¥Ό μ£Όκ³  λ°›λ” λ¬Έμ μ—μ„ ν‚¤κ°€ μ μ¶λλ” λ“±μ λ¬Έμ κ°€ λ°μƒν•  μ μλ‹¤.

## κ³µκ° ν‚¤(λΉ„λ€μΉ­ν‚¤) λ°©μ‹

- ν• μμ κ³µκ°ν‚¤-λΉ„λ°€ν‚¤λ¥Ό ν†µν•΄ μ•”νΈν™” λ° λ³µνΈν™”ν•λ” λ°©μ‹
    - κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•λ©΄ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”, λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”ν•λ©΄ κ³µκ°ν‚¤λ΅ λ³µνΈν™”
- λ€μΉ­ν‚¤ λ°©μ‹μ— λΉ„ν•΄ λ³΄μ•μ΄ λ›°μ–΄λ‚μ§€λ§ μƒλ€μ μΌλ΅ μ†λ„κ°€ λλ¦¬λ‹¤.

# SSL Handshake (TLS 1.2)

![image](https://github.com/user-attachments/assets/e3f230db-088d-4ce9-9fa9-7919497fe17a)


1. Serverλ” CAλ¥Ό ν†µν•΄ SSL μΈμ¦μ„λ¥Ό μƒμ„±ν•λ‹¤.
    
    ![image](https://github.com/user-attachments/assets/050c3aef-3730-4907-87db-edfa0790eca1)

    
2. CAλ” CAμ λΉ„λ°€ν‚¤λ¥Ό μ΄μ©ν•΄ μ‚¬μ΄νΈ μ •λ³΄μ™€ μ‚¬μ΄νΈ κ³µκ° ν‚¤λ¥Ό μ•”νΈν™”ν•΄ μΈμ¦μ„λ¥Ό μƒμ„±ν•κ³  μ‚¬μ΄νΈμ— μ „λ‹¬ν•λ‹¤.
    
    ![image](https://github.com/user-attachments/assets/f39a0751-2ec0-455f-9f93-edcb3815edda)

    
3. Clientκ°€ Serverμ— TLS μ—°κ²°μ„ μ‹λ„ν•λ©° ν¨ν‚·μ„ λ³΄λ‚Έλ‹¤.
    1. μ‚¬μ© κ°€λ¥ν• ciper suite λ©λ΅
        
        <aside>
        π’΅ Cipher Suiteλ€?
        Cipher Suiteλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ•μ „ν• μ—°κ²°μ„ μλ¦½ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” μ•”νΈν™” μ•κ³ λ¦¬μ¦μ μ§‘ν•©μ„ μλ―Έν•©λ‹λ‹¤. Cipher Suiteλ” μ—¬λ¬ κµ¬μ„± μ”μ†λ¥Ό ν¬ν•¨ν•μ—¬, λ°μ΄ν„° μ•”νΈν™”, μΈμ¦, λ©”μ‹μ§€ λ¬΄κ²°μ„± λ“±μ„ λ‹΄λ‹Ήν•λ” μ•κ³ λ¦¬μ¦μ„ μ •μν•©λ‹λ‹¤. μ΄ κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ„λ΅ μ§€μ› κ°€λ¥ν• Cipher Suiteλ¥Ό λΉ„κµν•μ—¬ κ°€μ¥ μ ν•©ν• κ²ƒμ„ μ„ νƒν•©λ‹λ‹¤.
        
        </aside>
        
    2. session id
    3. TLS Protocol version
    4. Client Random Byte (λ¬΄μ‘μ„ ν‚¤)
4. Serverλ” Clientλ΅λ¶€ν„° Client Hello ν¨ν‚·μ„ λ°›κ³ , Cipher Suite λ©λ΅μ—μ„ ν•λ‚λ¥Ό μ„ νƒν•λ‹¤.
    1. μ„ νƒν• Cipher Suite
    2. TLS Protocol Version
    3. Server Random Byte (λ¬΄μ‘μ„ ν‚¤)
5. Serverμ TLS μΈμ¦μ„λ¥Ό Clientμ— μ „λ‹¬ν•λ‹¤.
    
    ![image](https://github.com/user-attachments/assets/014de627-9635-417e-b821-f061a56b7fa1)

    
    μ΄ λ• TLS μΈμ¦μ„λ” CAμ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”λ μƒνƒμ΄λ©°, CAμ κ³µκ°ν‚¤λ” λ„κµ¬μ—κ²λ‚ κ³µκ°λμ–΄ μλ‹¤.
    
6. Clientλ” CAμ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•΄ TLS μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•λ‹¤.
    
    ![image](https://github.com/user-attachments/assets/02a3b137-c920-4c4d-8c20-3b3034531a7f)

    
    λ³µνΈν™”μ— μ„±κ³µν•λ©΄ ν•΄λ‹Ή μΈμ¦μ„λ” CAκ°€ μ„λ…ν• μ§„μ§ μΈμ¦μ„μ„μ„ κ²€μ¦ν• κ²ƒμΌλ΅ λ³Ό μ μλ‹¤.
    
7. ν΄λΌμ΄μ–ΈνΈλ” λλ¤μΌλ΅ Pre-master keyλ¥Ό μƒμ„±ν•κ³ , TLS μΈμ¦μ„ λ³µνΈν™”λ¥Ό ν†µν•΄ μ–»μ–΄λ‚Έ μ„λ²„μ κ³µκ° ν‚¤λ΅ μ•”νΈν™”ν•΄ μ„λ²„λ΅ μ „μ†΅ν•λ‹¤.
    
    ![image](https://github.com/user-attachments/assets/febae572-5a8f-4d7f-ad19-4a816f157a87)

    
8. μ„λ²„λ” μμ‹ μ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”ν•΄ Pre-master keyλ¥Ό μ–»μ–΄λ‚Έλ‹¤.
    
    ![image](https://github.com/user-attachments/assets/870d5e21-f8ba-4f04-8090-6d9e06a1c25a)

9. μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” μ£Όκ³ λ°›μ€ Client Random Byte, Server Random Byte, Pre-master keyλ¥Ό μ΄μ©ν•΄ κ°μ λ…λ¦½μ μΌλ΅ master keyλ¥Ό λ§λ“¤μ–΄λ‚΄κ³ , μΌλ ¨μ κ³Όμ •μ„ ν†µν•΄ μ΄λ¥Ό session keyλ΅ λ§λ“¤μ–΄λ‚Έλ‹¤.
    
    ![image](https://github.com/user-attachments/assets/b853f7b1-fb61-46ad-bddb-0d922ae5eb3b)

    
    Clientμ™€ Serverκ°€ λ§λ“  μ„Έμ… ν‚¤λ” λ™μΌν•κ³ , μ΄λ¥Ό μ•μΌλ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ• μ•”νΈν™”ν•  λ€μΉ­ ν‚¤λ΅ μ‚¬μ©ν•λ‹¤.
    

# μ°Έκ³  μλ£

- https://blog.naver.com/patchwork_corp/222467994034?
- https://run-it.tistory.com/30
- [https://velog.io/@bambookim/HTTPSμ™€-SSLTLS](https://velog.io/@bambookim/HTTPS%EC%99%80-SSLTLS)
