## MySQLì—ì„œì˜ ê²€ìƒ‰ ê¸°ëŠ¥

- ì¼ë°˜ì ìœ¼ë¡œ mysqlì—ì„œ í…ìŠ¤íŠ¸ ë¬¸ìì—´ ê²€ìƒ‰ ì‹œ likeê°™ì€ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•˜ì—¬ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
    
    ```sql
    SELECT * FROM FulltextTbl WHERE description LIKE '%ë‚¨ì%';
    ```
    
    - í•˜ì§€ë§Œ LIKEë¥¼ ì‚¬ìš©í•  ê²½ìš° ê²€ìƒ‰í•  í…ìŠ¤íŠ¸ ë‚´ìš©ì´ ë§ìœ¼ë©´ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.
    - ì´ì™€ ê°™ì€ ë¬¸ì œë¥¼ â€˜**ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰**â€™ ê¸°ëŠ¥ì´ í•´ê²°í•´ì¤€ë‹¤.
- ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ì€ **ì²« ê¸€ì ë¿ë§Œ ì•„ë‹ˆë¼ ì¤‘ê°„ì˜ ë‹¨ì–´ë‚˜ ë¬¸ì¥ìœ¼ë¡œë„ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— ì „ì²´ í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.**
- ì „ì²´ í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ëŠ” ì‹ ë¬¸ ê¸°ì‚¬ì™€ ê°™ì´ **í…ìŠ¤íŠ¸ë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´ ë°ì´í„°ì˜ ë‚´ìš©ì„ ê°€ì§€ê³  ìƒì„±í•œ íŠ¹ìˆ˜í•œ ì¸ë±ìŠ¤ ì¢…ë¥˜**ì´ë‹¤.
    - ë”°ë¼ì„œ ë‚´ìš©ì´ ê¸´ í…ìŠ¤íŠ¸ë¥¼ ë”°ë¡œ ì¸ë±ìŠ¤í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

## í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤(ì „ì²´ í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤)

- ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ì€ **ê¸´ ë¬¸ìì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ê²€ìƒ‰**í•˜ê¸° ìœ„í•œ MySQLì˜ ë¶€ê°€ì ì¸ ê¸°ëŠ¥ì´ë‹¤.
    - ì „ì²´ í…ìŠ¤íŠ¸ë„ ê²°êµ­ ì¸ë±ìŠ¤ ì¢…ë¥˜ì˜ í•œ ê°€ì§€
- **ë‹¨ì–´ ë˜ëŠ” êµ¬ë¬¸ì— ëŒ€í•œ ê²€ìƒ‰**ì„ ì˜ë¯¸í•˜ë©°, ê²Œì‹œë¬¼ ë‚´ìš©ì´ë‚˜ ì œëª© ë“±ê³¼ ê°™ì´ ë¬¸ì„œ ë‚´ í‚¤ì›Œë“œë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.
- MYSQLì—ì„œì˜ FULLTEXT íƒ€ì…ì˜ ì¸ë±ìŠ¤
- ì¼ë°˜ ì¸ë±ìŠ¤ì™€ ë‹¬ë¦¬ í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ëŠ” ê¸´ ë¬¸ì¥ ì „ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¸ë±ì‹±í•˜ë©°, **InnoDBì™€ MyISAM í…Œì´ë¸”ë§Œ ì§€ì›**í•œë‹¤.
    - ë˜í•œ, **char, varchar, text íƒ€ì… ë¬¸ìë§Œ ì¸ë±ì‹±**ì´ ê°€ëŠ¥í•˜ë‹¤.
    - ì—¬ëŸ¬ê°œì˜ ì—´ì— í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

### MATCH â€¦ AGAINST

- í’€í…ìŠ¤íŠ¸ ê²€ìƒ‰ì€ MATCH AGAINST êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ìˆ˜í–‰ëœë‹¤.
- MATCHëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„ë˜ë©°, **ê²€ìƒ‰í•  ì—´**ì„ ì§€ì •í•œë‹¤.
- AGAINSTëŠ” **ê²€ìƒ‰í•  ë¬¸ìì—´ê³¼ ìˆ˜í–‰í•  ê²€ìƒ‰ ìœ í˜•**ì„ ë‚˜íƒ€ë‚´ëŠ” **search modifier**ë¥¼ ì‚¬ìš©í•œë‹¤.
    
    ```sql
    search_modifier:
      {
           IN NATURAL LANGUAGE MODE
         | IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION
         | IN BOOLEAN MODE
         | WITH QUERY EXPANSION
      }
    ```
    

## í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ì‚¬ìš©ë²•

### ìƒì„± ë°©ì‹

```sql
CREATE TABLE table_name(
	...,
	column_name data_type
	...,
	FULLTEXT index_name (column_name)
);
```

```sql
CREATE FULLTEXT INDEX index_name ON table_name (column_name);
```

```sql
ALTER TABLE table_name ADD FULLTEXT (column_name);
```

### ì‚­ì œ

```sql
ALTER TABLE table_name DROP INDEX FULLTEXT (column_name);
```

```sql
drop index idx_description on FulltextTbl;
```

### ì¡°íšŒ

```sql
SHOW INDEX FROM table_name   // ì „ì²´ ì¸ë±ìŠ¤ í™•ì¸ ì¿¼ë¦¬
```

## ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰

- ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ì€ ì¼ë°˜ ì¸ë±ìŠ¤ì™€ëŠ” ë‹¤ë¥¸ ì ì´ ìˆë‹¤.
    - ì¿¼ë¦¬ì˜ ì¼ë°˜ **WHERE ì ˆì— MATCH(), AGAINST()ì™€ ê°™ì€ íŠ¹ìˆ˜í•œ ë©”ì„œë“œ**ë¥¼ ì‚¬ìš©í•œë‹¤.

### ìì—°ì–´ ê²€ìƒ‰(default)

- íŠ¹ë³„íˆ ì˜µì…˜ì„ ì§€ì •í•˜ì§€ ì•Šê±°ë‚˜ ë’¤ì— in natural language modeë¥¼ ë¶™ì´ë©´ ìì—°ì–´ ê²€ìƒ‰ì„ ì‹œì‘í•œë‹¤.
- ìì—°ì–´ ê²€ìƒ‰ì€ **ì •í™•í•œ ë‹¨ì–´**ë¥¼ ê²€ìƒ‰í•œë‹¤.
- **ë¬¸ìì—´ì„ ë‹¨ì–´ ë‹¨ìœ„(í† í°)ìœ¼ë¡œ ë¶„ë¦¬**í•œ í›„, **í•´ë‹¹ ë‹¨ì–´ ì¤‘ í•˜ë‚˜ë¼ë„ í¬í•¨ë˜ëŠ” í–‰**ì„ ì°¾ëŠ”ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, newspaperë¼ëŠ” í…Œì´ë¸”ì—ì„œ article ì—´ì— í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ì–´ ìˆê³ , ì˜í™”ë¼ëŠ” ë‹¨ì–´ê°€ ë“¤ì–´ê°„ ê¸°ì‚¬ë¥¼ ì°¾ìœ¼ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•œë‹¤.
    
    ```sql
    SELECT * FROM newspaper WHERE MATCH(article) AGAINST('ì˜í™”');
    SELECT * FROM newspaper WHERE MATCH(article) AGAINST('ì˜í™”' in natural language mode);
    SELECT * FROM newspaper WHERE MATCH(article) AGAINST('ì˜í™” ë°°ìš°'); 
    -- â€˜ì˜í™”â€™ ë˜ëŠ” â€˜ë°°ìš°â€™ ë‘ ë‹¨ì–´ ì¤‘ í•˜ë‚˜ê°€ í¬í•¨ëœ ê¸°ì‚¬ ê²€ìƒ‰.
    ```
    
    - í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ ê²€ìƒ‰í•  ê²½ìš° â€˜ì˜í™”â€™ë¼ëŠ” ì •í™•í•œ ë‹¨ì–´ë§Œ ê²€ìƒ‰ë˜ë©°, â€˜ì˜í™”ëŠ”â€™, â€˜ì˜í™”ê°€â€™ ë“±ì˜ ëŠ¥ë™ì ì¸ ê²€ìƒ‰ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. â†’ ë¶ˆë¦° ëª¨ë“œ ê²€ìƒ‰
- ë§¤ì¹˜ìœ¨
    - **ì…ë ¥ëœ ê²€ìƒ‰ì–´ì˜ í‚¤ì›Œë“œê°€ ì–¼ë§ˆë‚˜ ë” ë§ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ì— ë”°ë¼ ë§¤ì¹˜ìœ¨ì´ ê²°ì •**ëœë‹¤.
    - ì „ì²´ í…Œì´ë¸”ì˜ 50% ì´ìƒì˜ ë ˆì½”ë“œê°€ ê²€ìƒ‰ëœ í‚¤ì›Œë“œë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©´, í•´ë‹¹ í‚¤ì›Œë“œëŠ” ê²€ìƒ‰ì–´ë¡œì„œ ì˜ë¯¸ê°€ ì—†ë‹¤ê³  íŒë‹¨í•´ ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ë°°ì œí•œë‹¤.
    - ì´ë•Œ **ë§¤ì¹˜ìœ¨ì´ ê³„ì‚°ë  ë• row ë‚´ì˜ ê³ ìœ  ë‹¨ì–´ ìˆ˜, ì´ ë‹¨ì–´ ìˆ˜, íŠ¹ì • ë‹¨ì–´ë¥¼ í¬í•¨í•˜ëŠ” row ìˆ˜ ë“±ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°ëœë‹¤.**
    - ê²€ìƒ‰ ê²°ê³¼ëŠ” ê°€ì¥ ë†’ì€ ê´€ë ¨ì„±ì„ ê°€ì§„ ê²°ê³¼ë¶€í„° ìë™ ì •ë ¬ë˜ëŠ”ë°, ì•„ë˜ì™€ ê°™ì€ ì¡°ê±´ì— í•œí•´ ìë™ ì •ë ¬í•œë‹¤.
        1. ORDER BY ì ˆì´ ì—†ì–´ì•¼ í•œë‹¤.
        2. ê²€ìƒ‰ì€ í…Œì´ë¸” ê²€ìƒ‰ì´ ì•„ë‹Œ FULLTEXT Indexë¥¼ ì‚¬ìš©í•´ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.
        3. ì¿¼ë¦¬ê°€ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ê²½ìš°, FULLTEXT IndexëŠ” ì¡°ì¸ì—ì„œ ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” non-constanct í…Œì´ë¸”ì´ì—¬ì•¼ í•œë‹¤.
- ëŒ€ì†Œë¬¸ì
    - ìì—°ì–´ ê²€ìƒ‰ì€ ê¸°ë³¸ì ìœ¼ë¡œ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  ê²€ìƒ‰í•œë‹¤.
    - ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ëŠ” ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ë ¤ë©´ binary collactionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë¬´ì‹œë˜ëŠ” ê²€ìƒ‰ì–´
    - ê¸¸ì´ê°€ ê¸°ì¤€ë³´ë‹¤ ì§§ê±°ë‚˜ ì¤‘ì§€ ë‹¨ì–´ì˜ ê²½ìš° í’€í…ìŠ¤íŠ¸ ê²€ìƒ‰ì—ì„œ ë¬´ì‹œëœë‹¤.

### ë¶ˆë¦° ëª¨ë“œ ê²€ìƒ‰

- LIKE ì—°ì‚°ìì—ì„œ %ë¥¼ ì“°ë“¯ ë¶ˆë¦° ëª¨ë“œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤.
- ë¶ˆë¦° ëª¨ë“œ ê²€ìƒ‰ì´ë€ **ë‹¨ì–´ë‚˜ ë¬¸ì¥ì´ ì •í™•íˆ ì¼ì¹˜í•˜ì§€ ì•Šì•„ë„ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì˜ë¯¸**í•œë‹¤.
- ë¬¸ìì—´ì„ ë‹¨ì–´ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•œ í›„, ì¶”ê°€ì ì¸ ê²€ìƒ‰ ê·œì¹™ì„ ì ìš©í•´ ë‹¨ì–´ê°€ í¬í•¨ë˜ëŠ” í–‰ì„ ì°¾ëŠ”ë‹¤.
- ë’¤ì— IN BOOLEAN MODE ì˜µì…˜ì„ ë¶™ì—¬ì£¼ë©´ ì ìš©ëœë‹¤.
- ë¶ˆë¦° ëª¨ë“œ ê²€ìƒ‰ì˜ ì—°ì‚°ì
    1. +
        1. ê²€ìƒ‰ í•„ìˆ˜ ì—°ì‚°ì
        2. ì•„ë˜ì˜ ì¿¼ë¦¬ë¬¸ì€ ì˜í™”ë¥¼ ì°¾ë˜, ë°˜ë“œì‹œ ì•¡ì…˜ì´ ë“¤ì–´ê°€ ìˆëŠ” ì»¬ëŸ¼ì„ ì°¾ëŠ”ë‹¤.
            
            ```sql
            SELECT * FROM newspaper
            WHERE MATCH(article) AGAINST('ì˜í™” +ì•¡ì…˜' IN BOOLEAN MODE);
            ```
            
    2. -
        1. ê²€ìƒ‰ ì œì™¸ ì—°ì‚°ì
        2. ì•„ë˜ì˜ ì¿¼ë¦¬ë¬¸ì€ ì˜í™”ë¥¼ ì°¾ë˜ ì•¡ì…˜ì€ ë“¤ì–´ê°€ìˆì§€ ì•Šì€ ì»¬ëŸ¼ì„ ì°¾ëŠ”ë‹¤.
            
            ```sql
            SELECT * FROM newspaper
            WHERE MATCH(article) AGAINST('ì˜í™” -ì•¡ì…˜' IN BOOLEAN MODE);
            ```
            
    3. ~
        1. -ë³´ë‹¤ ë¶€ë“œëŸ¬ìš´ ê²€ìƒ‰ ë¶€ì • ì—°ì‚°ì
        2. ì•„ë˜ì˜ ì¿¼ë¦¬ë¬¸ì€ â€˜ì˜í™”â€™ë¥¼ ì°¾ë˜, â€˜ì•¡ì…˜â€™ì´ ì—†ëŠ” ì—´ì´ ì•„ë‹Œ â€˜ì•¡ì…˜â€™ì´ ìˆëŠ” ì—´ì´ ì•„ë˜ ìˆœìœ„ë¡œ ê°€ë„ë¡ ì°¾ëŠ”ë‹¤.
            
            ```sql
            SELECT * FROM newspaper
            WHERE MATCH(article) AGAINST('ì˜í™” ~ì•¡ì…˜' IN BOOLEAN MODE);
            ```
            
    4. *
        1. ë¶€ë¶„ ê²€ìƒ‰ ì—°ì‚°ì
        2. â€˜ì˜í™”ë¥¼â€™, â€˜ì˜í™”ê°€â€™, ì˜í™”ëŠ”â€™ê³¼ ê°™ì´ ëŠ¥ë™ì ìœ¼ë¡œ ì°¾ì•„ì¤€ë‹¤.
            
            ```sql
            SELECT * FROM newspaper
            WHERE MATCH(article) AGAINST('ì˜í™”*' IN BOOLEAN MODE);
            ```
            
    5. â€œ
        1. ë¶€ë¶„ ê²€ìƒ‰ â€œâ€ ì•ˆì— ìˆëŠ” êµ¬ë¬¸ê³¼ ì •í™•íˆ ë™ì¼í•œ ì² ìì˜ êµ¬ë¬¸
        2. â€˜ì¬ë°ŒëŠ” ì˜í™”â€™, â€˜ì¬ë°ŒëŠ” ì˜í™”ê°€â€™ ë“±
            
            ```sql
            SELECT * FROM newspaper
            WHERE MATCH(article) AGAINST("ì¬ë°ŒëŠ” ì˜í™”" IN BOOLEAN MODE);
            ```
            
            - ë‹¨, â€˜ì¬ë°ŒëŠ” í•œêµ­ ì˜í™”â€™, ì¬ë°ŒëŠ” í• ë¦¬ìš°ë“œ ì˜í™”â€™ì™€ ê°™ì€ ë‹¨ì–´ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤.
- ì‚¬ìš© ì˜ˆì‹œ
    
    ```sql
    
    -- ex) ì˜í™”ê°€ ì˜í™”ëŠ” ì˜í™”ë¥¼
    select * from newspaper
    where match(article) against ('ì˜í™”*' in boolean mode);
    
    -- ì •í™•íˆ 'ì˜í™” ë°°ìš°' ë‹¨ì–´ê°€ ë“¤ì–´ìˆëŠ” ê¸°ì‚¬ ë‚´ìš© ê²€ìƒ‰
    select * from newspaper
    where match(article) against('ì˜í™” ë°°ìš°' in boolean mode);
    
    -- 'ì˜í™” ë°°ìš°' ë‹¨ì–´ê°€ ë“¤ì–´ ìˆëŠ” ê¸°ì‚¬ ì¤‘ì—ì„œ 'ê³µí¬' ë‚´ìš©ì´ ë“¤ì–´ê°„ ê²°ê³¼
    select * from newspaper
    where match(article) against('ì˜í™” ë°°ìš° +ê³µí¬' in boolean mode);
    
    -- 'ì˜í™” ë°°ìš°' ë‹¨ì–´ê°€ ë“¤ì–´ ìˆëŠ” ê¸°ì‚¬ ì¤‘ì—ì„œ 'ë‚¨ì' ë‚´ìš©ì€ ê²€ìƒ‰ì—ì„œ ì œì™¸
    select * from newspaper
    where match(article) against('ì˜í™” ë°°ìš° -ë‚¨ì' in boolean mode);
    
    -- 'ì—¬ì' ë˜ëŠ” 'ë‚¨ì' ê°€ ìˆëŠ” ê²½ìš° ê²€ìƒ‰
    SELECT *, MATCH(description) AGAINST('ë‚¨ì* ì—¬ì*' IN BOOLEAN MODE) AS ì ìˆ˜ 
    FROM FulltextTbl WHERE MATCH(description) AGAINST('ë‚¨ì* ì—¬ì*' IN BOOLEAN MODE);
    
    -- ë‚¨ì, ì—¬ìê°€ ëª¨ë‘ ë“¤ì–´ìˆëŠ” ê²€ìƒ‰
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('+ë‚¨ì*+ì—¬ì*' IN BOOLEAN MODE);
    
    -- ë‹˜ìê°€ í¬í•¨ëœ í–‰ì„ ì°¾ê³  ì—¬ìê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ìƒìœ„í–‰ìœ¼ë¡œ ì°¾ê¸°
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('+ë‚¨ì* ì—¬ì*' IN BOOLEAN MODE);
    
    -- ì—¬ìê°€ í¬í•¨ëœ í–‰ì„ ì°¾ê³  ë‚¨ìê°€ ìˆìœ¼ë©´ ìƒìœ„ í–‰ìœ¼ë¡œ ì°¾ê¸°
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('ë‚¨ì* +ì—¬ì*' IN BOOLEAN MODE);
    
    -- ë”± 'ë‚¨ì' ê°€ í¬í•¨ëœ í–‰ì¤‘ì—ì„œ ì—¬ìê°€ í¬í•¨ëœ í–‰ë§Œ ì°¾ê¸°
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('ë‚¨ì +ì—¬ì' IN BOOLEAN MODE);    
    
    -- ë”± 'ë‚¨ì' ê°€ í¬í•¨ëœ í–‰ì¤‘ì—ì„œ ì—¬ìê°€ ìˆìœ¼ë©´ ìƒìœ„í–‰ìœ¼ë¡œ, ë‚¨ìë§Œ ìˆëŠ”ê²ƒë„ ì°¾ê¸°
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('+ë‚¨ì ì—¬ì' IN BOOLEAN MODE);
    
    -- ë‚¨ìë¡œ ê²€ìƒ‰ëœ ì˜í™” ì¤‘ì—ì„œ ì—¬ìê°€ ë“¤ì–´ê°„ ì˜í™”ëŠ” ì œê±°í•˜ëŠ” ê²€ìƒ‰
    SELECT * FROM FulltextTbl 
    WHERE MATCH(description) AGAINST('ë‚¨ì* -ì—¬ì*' IN BOOLEAN MODE);
    ```
    

### ì¿¼ë¦¬ í™•ì¥ ê²€ìƒ‰

```sql
select * from tbl_full where match(content) against('ë‚´ìš©*' WITH QUERY EXPANSION);
```

- ìì—°ì–´ ê²€ìƒ‰ì„ í™•ì¥í•œ ë‚´ìš©ìœ¼ë¡œ, 2ë‹¨ê³„ì— ê±¸ì³ì„œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œë‹¤.
    1. ì²« ë‹¨ê³„ì—ì„œëŠ” ìì—°ì–´ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œë‹¤.
    2. ê·¸ ë‹¤ìŒ ì²« ë²ˆì§¸ ê²€ìƒ‰ì˜ ê²°ê³¼ì— ë§¤ì¹­ëœ í–‰ì„ ê¸°ë°˜ìœ¼ë¡œ ê²€ìƒ‰ ë¬¸ìì—´ì„ ì¬êµ¬ì„±í•˜ì—¬ ë‘ ë²ˆì§¸ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œë‹¤.
        1. ì´ëŠ” 1ë‹¨ê³„ ê²€ìƒ‰ì—ì„œ ì‚¬ìš©í•œ ë‹¨ì–´ì™€ ì—°ê´€ì„±ì´ ìˆëŠ” ë‹¨ì–´ê°€ 1ë‹¨ê³„ ê²€ìƒ‰ì— ë§¤ì¹­ëœ ê²°ê³¼ì— ë‚˜íƒ€ë‚œë‹¤ëŠ” ê°€ì •ì„ ì „ì œë¡œ í•œë‹¤.
- ì¿¼ë¦¬ í™•ì¥ ê²€ìƒ‰ì€ IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION í˜¹ì€ WITH QUERY EXPANSION í•œì •ìë¥¼ ì‚¬ìš©í•œë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ ê²€ìƒ‰ êµ¬ë¬¸ì´ ì•„ì£¼ ì§§ì„ ë•Œ ìœ ìš©í•˜ë‹¤.

## ê²€ìƒ‰ ë‹¨ì–´ ì œí•œ ìˆ˜ í’€ê¸°

- MySQLì€ ê¸°ë³¸ê°’ìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥ ë‹¨ì–´ì˜ ìˆ«ìê°€ 3ì´ë‹¤.
    - ì¦‰, 3ê¸€ì ì´ìƒë§Œ ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ê³  ë‘ ê¸€ì ë‹¨ì–´ëŠ” ì•ˆëœë‹¤ëŠ” ì˜ë¯¸
    - ë”°ë¼ì„œ ê²€ìƒ‰ ê°€ëŠ¥ ë‹¨ì–´ì˜ ìˆ«ìë¥¼ í™•ì¸í•˜ê³  mysql ì„¤ì •ì—ì„œ ìˆ˜ì •í•´ì•¼í•œë‹¤.

```sql
-- ëª‡ ê¸€ì ì´ìƒë¶€í„° ê²€ìƒ‰ ê°€ëŠ¥í•œì§€ í™•ì¸
SHOW VARIABLES LIKE 'innodb_ft_min_token_size';
```

## ì¤‘ì§€ ë‹¨ì–´(stopwords)

- í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ëŠ” ê¸´ ë¬¸ì¥ì— ëŒ€í•´ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ê·¸ ì–‘ì´ ì»¤ì§ˆ ìˆ˜ë°–ì— ì—†ë‹¤.
    - ë”°ë¼ì„œ, **ì‹¤ì œë¡œ ê²€ìƒ‰ì—ì„œ ë¬´ì‹œí• ë§Œ í•œ ë‹¨ì–´ë“¤ì€ í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ë¡œ ìƒì„±í•˜ì§€ ì•ŠëŠ” í¸ì´ ì¢‹ë‹¤.**

### ì¤‘ì§€ ë‹¨ì–´ ì˜ˆì‹œ

- ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì¥ì´ ìˆë‹¤ê³  ê°€ì •í•˜ì.
    
    ```sql
    ì´ë²ˆ ì„ ê±°ëŠ” ì•„ì£¼ ì¤‘ìš”í•œ í–‰ì‚¬ì´ë¯€ë¡œ ëª¨ë‘ ê¼­ ì°¸ì—¬ ë°”ëë‹ˆë‹¤.
    ```
    
- ìœ„ ë¬¸ì¥ì„ í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ë¡œ ë‹¨ì–´ë¥¼ ëŠì–´ ë§Œë“ ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    ```sql
    ì´ë²ˆ / ì„ ê±°ëŠ” / ì•„ì£¼ / ì¤‘ìš”í•œ / í–‰ì‚¬ì´ë¯€ë¡œ / ëª¨ë‘ / ê¼­ / ì°¸ì—¬ / ë°”ëë‹ˆë‹¤
    ```
    
    - ì—¬ê¸°ì„œ â€˜ì´ë²ˆâ€™, â€˜ì•„ì£¼â€™, â€˜ëª¨ë‘â€™, â€˜ê¼­â€™ê³¼ ê°™ì€ ë¶€ì‚¬ëŠ” ì‚¬ìš©ìê°€ êµ³ì´ ê²€ìƒ‰í•  ì´ìœ ê°€ ì—†ìœ¼ë¯€ë¡œ ì¸ë±ì‹±ì—ì„œ ì œì™¸í•˜ëŠ”ê²Œ íš¨ìœ¨ì ì´ë‹¤.
    - ì´ì²˜ëŸ¼ ê²€ìƒ‰ì— í•„ìš”ì—†ëŠ” ë‹¨ì–´ë¥¼ ì¤‘ì§€ ë‹¨ì–´ë¼ê³  í•œë‹¤.

### ì¤‘ì§€ ë‹¨ì–´ ë§Œë“¤ê¸°

- ì „ì²´ í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ë‹¨ì–´ í™•ì¸
    
    ```sql
    --dbì™€ í…Œì´ë¸” ì´ë¦„ì€ ì†Œë¬¸ì ì¨ì•¼ëœë‹¤.
    set global innodb_ft_aux_table = 'ë””ë¹„ëª…/í…Œì´ë¸”ëª…';
    
    --í…Œì´ë¸”ì—ì„œ ë§Œë“¤ì–´ì§„ ì „ì²´í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ë³´ê¸° (í•„ìš”ì—†ëŠ” ê²€ìƒ‰ ë‹¨ì–´ê°€ ìˆìŒ)
    select word, doc_count, doc_id, position from information_schema.innodb_ft_index_table ;
    ```
    
- ì¤‘ì§€ ë‹¨ì–´ ìƒì„±
    
    ```sql
    -- ì¤‘ì§€ë‹¨ì–´ ë§Œë“¤ê¸°ì „ì— ë§Œë“¤ì–´ë†“ì€ í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ëŠ” ì‚­ì œ
    drop index idx_all on FulltextTbl ;
    
    -- ì¤‘ì§€ë‹¨ì–´ë¥¼ ìœ„í•œ í…Œì´ë¸” ë§Œë“¤ê¸°
    -- í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” ë°˜ë“œì‹œ value , íƒ€ì…ì€ varchar -> ì•½ì†
    CREATE TABLE user_stopword (value VARCHAR(30));
    
    --ì¤‘ì§€ ë‹¨ì–´ ë§Œë“¤ê¸°
    insert into user_stopword values ('ê·¸ëŠ”'), ('ê·¸ë¦¬ê³ '), ('ê·¹ì—') ; 
    
    -- ì¤‘ì§€ ë‹¨ì–´ í…Œì´ë¸”ì— ì§€ê¸ˆ ë§Œë“¤ í…Œì´ë¸”ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…
    -- ê·¸ëŸ¬ë©´ ì´ì œ user_stopword í…Œì´ë¸”ì— ë“¤ì–´ìˆëŠ” ë‹¨ì–´ë¡œëŠ” í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê²Œ ëœë‹¤
    set global innodb_ft_server_stopword_table = 'ë””ë¹„ëª…/user_stopword'; -- ëª¨ë‘ ì†Œë¬¸ì
    
    -- ë§Œë“  í…Œì´ë¸”ì´ ë“¤ì–´ê°”ëŠ”ì§€ í™•ì¸
    show global variables like 'innodb_ft_server_stopword_table' ;
    
    -- ì¤‘ì§€ë‹¨ì–´ í…Œì´ë¸” ë§Œë“¤ì—ˆìœ¼ë‹ˆ, ì´ì œ ë‹¤ì‹œ í’€í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ìƒì„±.
    create Fulltext index idx_description on FulltextTbl ( description );
    
    -- ê·¸ëŸ¬ë©´ ì¤‘ì§€ë‹¨ì–´ì— ë“±ë¡í•œ ë‹¨ì–´ë¥¼ ì œì™¸í•œ ì¸ë±ìŠ¤ ë‹¨ì–´ë“¤ì´ ìƒì„±ë¨ (ê°¯ìˆ˜ê°€ ì¤„ì–´ë“¤ìŒ)
    select word, doc_count, doc_id, position 
    from information_schema.innodb_ft_index_table ;
    ```
    

## ì°¸ê³  ìë£Œ

- [https://inpa.tistory.com/entry/MYSQL-ğŸ“š-í’€í…ìŠ¤íŠ¸-ì¸ë±ìŠ¤Full-Text-Index-ì‚¬ìš©ë²•](https://inpa.tistory.com/entry/MYSQL-%F0%9F%93%9A-%ED%92%80%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%9D%B8%EB%8D%B1%EC%8A%A4Full-Text-Index-%EC%82%AC%EC%9A%A9%EB%B2%95)
- [https://gngsn.tistory.com/162](https://gngsn.tistory.com/162)